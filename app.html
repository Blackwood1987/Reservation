<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>장비 예약 관리 시스템 (데모)</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <header class="app-header">
      <div class="header-left">
        <h2 class="app-title">장비 예약 관리 시스템</h2>
        <nav class="tab-container" id="main-tabs" aria-label="주요 탭">
          <button class="tab-btn active" data-view="dashboard">대시보드</button>
          <button class="tab-btn" data-view="reservation">예약 관리</button>
          <button class="tab-btn" data-view="calendar">월간 일정</button>
          <button class="tab-btn manager-only" id="tab-admin" data-view="admin" hidden>관리</button>
        </nav>
      </div>
      <div class="header-right">
        <div class="user-profile">
          <span id="user-badge" class="user-badge">GUEST</span>
          <span id="user-name" class="user-name">로그인 필요</span>
          <button id="btn-logout" class="btn-logout" type="button">로그아웃</button>
        </div>
      </div>
    </header>

    <main class="app-main">
      <section id="view-dashboard" class="view-section active" aria-labelledby="dashboard-title">
        <div class="dashboard-layout">
          <div class="left-panel">
            <article class="card map-card">
              <div class="card-header">
                <div>
                  <h3 id="dashboard-title" class="card-title">룸 맵</h3>
                  <p class="card-sub">장비 클릭 시 상태 확인</p>
                </div>
                <div class="card-meta" id="map-time-label">기준 시각: --:--</div>
              </div>
              <div class="map-wrapper" id="map-wrapper" role="img" aria-label="장비 상태 맵">
                <div class="map-grid" id="map-grid"></div>
                <div class="tooltip" id="map-tooltip" role="status"></div>
              </div>
            </article>

            <article class="card timeline-card">
              <div class="card-header">
                <h3 class="card-title">실시간 타임라인</h3>
                <div class="card-meta" id="timeline-date-label"></div>
              </div>
              <div class="time-controller">
                <label class="time-label" for="time-slider">시간 조정 (30분 단위)</label>
                <input id="time-slider" type="range" min="9" max="18" step="0.5" value="9" />
                <div class="time-actions">
                  <span id="time-slider-label" class="time-value">09:00</span>
                  <button id="btn-now" class="btn-time-reset" type="button">현재 시각</button>
                </div>
              </div>
              <div class="timeline-header" aria-hidden="true">
                <div class="tl-label-spacer"></div>
                <div class="tl-hours" id="timeline-hours"></div>
              </div>
              <div class="timeline-body" id="timeline-body"></div>
            </article>
          </div>

          <aside class="right-panel">
            <article class="card chart-card">
              <div class="card-header">
                <h3 class="card-title">가동 분석</h3>
                <div class="card-meta" id="chart-date-label"></div>
              </div>
              <div class="chart-wrap">
                <svg id="donut-chart" viewBox="0 0 42 42" class="donut-chart" aria-label="가동률 도넛 차트"></svg>
              </div>
              <div id="chart-legend" class="chart-legend"></div>
            </article>

            <article class="card status-card">
              <div class="card-header">
                <h3 class="card-title">장비 상태 목록</h3>
                <div class="card-meta" id="status-date-label"></div>
              </div>
              <div id="status-list" class="status-list"></div>
            </article>
          </aside>
        </div>
      </section>

      <section id="view-reservation" class="view-section" aria-labelledby="reservation-title">
        <article class="card reservation-card">
          <div class="card-header">
            <h3 id="reservation-title" class="card-title">주간/일간 예약 스케줄표</h3>
            <div class="date-controller" role="group" aria-label="날짜 이동">
              <button class="nav-btn" data-date-delta="-1" type="button">◀</button>
              <span id="reservation-date-label" class="date-label"></span>
              <button class="nav-btn" data-date-delta="1" type="button">▶</button>
              <button id="btn-today" class="btn-today" type="button">오늘</button>
            </div>
          </div>
          <div class="table-wrapper">
            <table class="schedule-table" aria-describedby="reservation-title">
              <thead>
                <tr>
                  <th class="col-machine">uC7A5uBE44uBA85</th>
                  <th colspan="2">09</th>
                  <th colspan="2">10</th>
                  <th colspan="2">11</th>
                  <th colspan="2">12</th>
                  <th colspan="2">13</th>
                  <th colspan="2">14</th>
                  <th colspan="2">15</th>
                  <th colspan="2">16</th>
                  <th colspan="2">17</th>
                </tr>
              </thead>
              <tbody id="schedule-body"></tbody>
            </table>
          </div>
        </article>
      </section>

      <section id="view-calendar" class="view-section" aria-labelledby="calendar-title">
        <article class="card calendar-card">
          <div class="cal-nav">
            <button class="cal-nav-btn" data-month-delta="-1" type="button">◀</button>
            <h3 id="calendar-title" class="cal-title"></h3>
            <button class="cal-nav-btn" data-month-delta="1" type="button">▶</button>
          </div>
          <div class="calendar-grid" id="calendar-grid" role="grid" aria-labelledby="calendar-title"></div>
        </article>
      </section>

      <section id="view-admin" class="view-section" aria-labelledby="admin-title">
        <div class="dashboard-layout admin-layout">
          <nav class="admin-sidebar" aria-label="관리 메뉴">
            <button class="admin-btn active" data-admin-view="users">
              <strong>사용자 관리</strong>
              <span>계정 생성 및 권한 설정</span>
            </button>
            <button class="admin-btn" data-admin-view="machines">
              <strong>장비 관리</strong>
              <span>장비 등록/수정/삭제</span>
            </button>
            <button class="admin-btn" data-admin-view="locations">
              <strong>장소 관리</strong>
              <span>장소 등록/수정/삭제</span>
            </button>
            <button class="admin-btn" data-admin-view="audit">
              <strong>승인 및 보고</strong>
              <span>승인 대기 처리 및 리포트</span>
            </button>
            <button class="admin-btn" data-admin-view="stats">
              <strong>운영 통계</strong>
              <span>목적/부서별 사용 분석</span>
            </button>
          </nav>

          <article class="card admin-main">
            <div id="admin-title" class="sr-only">관리</div>

            <section id="admin-users" class="admin-section active">
              <div class="card-header">
                <h3 class="card-title">사용자 계정 목록</h3>
                <button id="btn-create-user" class="btn-time-reset success" type="button">&#xC0C8;&#xB85C;&#xACE0;&#xCE68;</button>
              </div>
              <table class="user-table">
                <thead>
                <tr>
                  <th class="col-machine">uC7A5uBE44uBA85</th>
                  <th colspan="2">09</th>
                  <th colspan="2">10</th>
                  <th colspan="2">11</th>
                  <th colspan="2">12</th>
                  <th colspan="2">13</th>
                  <th colspan="2">14</th>
                  <th colspan="2">15</th>
                  <th colspan="2">16</th>
                  <th colspan="2">17</th>
                </tr>
              </thead>
                <tbody id="user-table-body"></tbody>
              </table>
            </section>

                        <section id="admin-locations" class="admin-section">
              <div class="card-header">
                <h3 class="card-title">장소 목록</h3>
                <button id="btn-create-location" class="btn-time-reset success" type="button">+ 장소 등록</button>
              </div>
              <table class="user-table">
                <thead>
                <tr>
                  <th class="col-machine">uC7A5uBE44uBA85</th>
                  <th colspan="2">09</th>
                  <th colspan="2">10</th>
                  <th colspan="2">11</th>
                  <th colspan="2">12</th>
                  <th colspan="2">13</th>
                  <th colspan="2">14</th>
                  <th colspan="2">15</th>
                  <th colspan="2">16</th>
                  <th colspan="2">17</th>
                </tr>
              </thead>
                <tbody id="location-table-body"></tbody>
              </table>
            </section>

            <section id="admin-machines" class="admin-section">
              <div class="card-header">
                <h3 class="card-title">장비 목록</h3>
                <button id="btn-create-machine" class="btn-time-reset success" type="button">+ 장비 등록</button>
              </div>
              <table class="user-table">
                <thead>
                  <tr>
                    <th>&#xC7A5;&#xBE44; ID</th>
                    <th>&#xAD00;&#xB9AC;&#xBC88;&#xD638;</th>
                    <th>&#xC7A5;&#xC18C;</th>
                    <th>&#xC124;&#xBA85;</th>
                    <th>&#xC608;&#xC57D; &#xC218;</th>
                    <th>&#xAD00;&#xB9AC;</th>
                  </tr>
                </thead>
                <tbody id="machine-table-body"></tbody>
              </table>
            </section>

            <section id="admin-audit" class="admin-section">
              <div class="card-header">
                <h3 class="card-title">승인 및 보고</h3>
                <div class="card-meta">프론트 데모 (확장 전제)</div>
              </div>
              <div class="audit-panels">
                <div class="audit-panel">
                  <div class="audit-icon">✅</div>
                  <h4>승인 대기 목록</h4>
                  <p>작업자 예약을 승인/반려 처리합니다.</p>
                  <div id="pending-list" class="pending-list"></div>
                </div>
                <div class="audit-panel">
                  <div class="audit-icon">📄</div>
                  <h4>일일 운영 리포트</h4>
                  <p>현재 선택 날짜의 예약 현황을 인쇄합니다.</p>
                  <button id="btn-print" class="btn-audit-big" type="button">리포트 인쇄</button>
                </div>
              </div>
            </section>

            <section id="admin-stats" class="admin-section">
              <div class="card-header">
                <h3 class="card-title">운영 통계 (데모)</h3>
                <div class="card-meta">서버 연동 전 자리표시자</div>
              </div>
              <div class="stats-grid">
                <div class="stat-card process">
                  <strong>공정 가동</strong>
                  <div class="stat-value" id="stat-process">-</div>
                  <span>선택 월 누적 시간</span>
                </div>
                <div class="stat-card maint">
                  <strong>유지보수</strong>
                  <div class="stat-value" id="stat-maint">-</div>
                  <span>선택 월 누적 시간</span>
                </div>
                <div class="stat-card clean">
                  <strong>청소 및 소독</strong>
                  <div class="stat-value" id="stat-clean">-</div>
                  <span>선택 월 누적 시간</span>
                </div>
              </div>
            </section>
          </article>
        </div>
      </section>
    </main>

    <div id="booking-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="booking-title">
      <div class="modal">
        <h3 id="booking-title" class="modal-title">작업 예약 등록</h3>
        <p id="booking-sub" class="modal-sub"></p>
        <div class="form-group">
          <label for="booking-user">작업자</label>
          <input id="booking-user" type="text" placeholder="예: 김연구원" />
        </div>
        <div class="form-group">
          <label for="booking-date">날짜</label>
          <input id="booking-date" type="date" />
        </div>
        <div class="form-group">
          <label for="booking-purpose">목적</label>
          <select id="booking-purpose">
            <option value="process">공정</option>
            <option value="maint">유지보수</option>
            <option value="em">EM</option>
            <option value="clean">청소</option>
            <option value="other">기타</option>
          </select>
        </div>
        <div class="form-group">
          <label for="booking-start">시작 시간 (30분 단위)</label>
          <select id="booking-start"></select>
        </div>
        <div class="form-group">
          <label for="booking-duration">소요 시간</label>
          <select id="booking-duration">
            <option value="0.5">30분</option>
            <option value="1">1시간</option>
            <option value="1.5">1시간 30분</option>
            <option value="2">2시간</option>
            <option value="3">3시간</option>
            <option value="4">4시간</option>
          </select>
        </div>
        <div class="form-check">
          <label>
            <input id="booking-recurring" type="checkbox" />
            매주 반복 (4주)
          </label>
        </div>
        <div class="btn-group">
          <button class="btn btn-cancel" data-close-modal="booking-modal" type="button">취소</button>
          <button id="btn-save-booking" class="btn btn-save" type="button">예약 저장</button>
        </div>
      </div>
    </div>

    <div id="approval-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="approval-title">
      <div class="modal">
        <h3 id="approval-title" class="modal-title">예약 승인 요청</h3>
        <p id="approval-text" class="modal-sub"></p>
        <div class="approval-detail" id="approval-detail"></div>
        <button id="btn-approve" class="btn btn-approve" type="button">승인</button>
        <button id="btn-reject" class="btn btn-reject" type="button">반려</button>
        <button class="btn btn-cancel full" data-close-modal="approval-modal" type="button">취소</button>
      </div>
    </div>

    <div id="user-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="user-modal-title">
      <div class="modal">
        <h3 id="user-modal-title" class="modal-title">계정 생성</h3>
        <input id="user-original-id" type="hidden" />
        <div class="form-group">
          <label for="user-name">이름</label>
          <input id="user-name" type="text" />
        </div>
        <div class="form-group">
          <label for="user-id">아이디</label>
          <input id="user-id" type="text" />
        </div>
        <div class="form-group">
          <label for="user-password">&#xBE44;&#xBC00;&#xBC88;&#xD638;</label>
          <input id="user-password" type="password" placeholder="&#xB85C;&#xADF8;&#xC778; &#xBE44;&#xBC00;&#xBC88;&#xD638;" />
        </div>
        <div class="form-group">
          <label for="user-role">권한</label>
          <select id="user-role">
            <option value="admin">관리자</option>
            <option value="supervisor">감독자</option>
            <option value="worker">작업자</option>
          </select>
        </div>
        <div class="btn-group">
          <button class="btn btn-cancel" data-close-modal="user-modal" type="button">취소</button>
          <button id="btn-save-user" class="btn btn-save" type="button">저장</button>
        </div>
      </div>
    </div>

        <div id="location-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="location-modal-title">
      <div class="modal">
        <h3 id="location-modal-title" class="modal-title">장소 등록</h3>
        <input id="location-original-name" type="hidden" />
        <div class="form-group">
          <label for="location-name">장소명</label>
          <input id="location-name" type="text" placeholder="예: Room C" />
        </div>
        <div class="btn-group">
          <button class="btn btn-cancel" data-close-modal="location-modal" type="button">취소</button>
          <button id="btn-save-location" class="btn btn-save" type="button">저장</button>
        </div>
      </div>
    </div>

    <div id="machine-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="machine-modal-title">
      <div class="modal">
        <h3 id="machine-modal-title" class="modal-title">장비 등록</h3>
        <input id="machine-original-id" type="hidden" />
                <div class="form-group">
          <label for="machine-id">&#xC7A5;&#xBE44; ID</label>
          <input id="machine-id" type="text" placeholder="&#xC608;: C-01" />
        </div>
        <div class="form-group">
          <label for="machine-mgmt">&#xAD00;&#xB9AC;&#xBC88;&#xD638;</label>
          <input id="machine-mgmt" type="text" placeholder="&#xC608;: EQ-2026-001" />
        </div>
        <div class="form-group">
          <label for="machine-location">&#xC7A5;&#xC18C;</label>
          <select id="machine-location">
            <option value="Room A">Room A</option>
            <option value="Room B">Room B</option>
          </select>
        </div>
        <div class="form-group">
          <label for="machine-desc">&#xC124;&#xBA85;</label>
          <textarea id="machine-desc" rows="3" placeholder="&#xC124;&#xBA85;&#xC744; &#xC785;&#xB825;&#xD558;&#xC138;&#xC694;"></textarea>
        </div>
        <div class="btn-group">
          <button class="btn btn-cancel" data-close-modal="machine-modal" type="button">취소</button>
          <button id="btn-save-machine" class="btn btn-save" type="button">저장</button>
        </div>
      </div>
    </div>

    <div id="day-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="day-modal-title">
      <div class="modal large">
        <div class="day-modal-header">
          <h3 id="day-modal-title" class="modal-title">상세 일정</h3>
          <button class="icon-close" data-close-modal="day-modal" type="button" aria-label="닫기">&times;</button>
        </div>
        <div class="day-modal-body">
          <div class="timeline-header" aria-hidden="true">
            <div class="tl-label-spacer"></div>
            <div class="tl-hours" id="day-timeline-hours"></div>
          </div>
          <div id="day-timeline" class="timeline-body"></div>
        </div>
      </div>
    </div>

    <script type="module" src="app.js?v=20260129-4"></script>
  </body>
</html>





















